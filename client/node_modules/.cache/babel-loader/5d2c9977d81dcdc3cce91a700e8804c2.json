{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\stave-food-shop\\\\client\\\\src\\\\components\\\\AccountBox\\\\Signup.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Link, useHistory } from 'react-router-dom';\nimport { useContext, useState } from \"react\";\nimport { AuthContext } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Signup = props => {\n  _s();\n\n  const {\n    registerUser\n  } = useContext(AuthContext);\n  const history = useHistory();\n  const [registerForm, setRegisterForm] = useState({\n    username: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const {\n    username,\n    password,\n    confirmPassword\n  } = registerForm;\n\n  const onChangeRegisterForm = event => setRegisterForm({ ...registerForm,\n    [event.target.name]: event.target.value\n  });\n\n  const register = async event => {\n    event.preventDefault();\n\n    if (password !== confirmPassword) {\n      setAlert({\n        type: 'danger',\n        message: 'Passwords do not match'\n      });\n      setTimeout(() => setAlert(null), 5000);\n      return;\n    }\n\n    try {\n      const registerData = await registerUser(registerForm);\n\n      if (!registerData.success) {\n        setAlert({\n          type: 'danger',\n          message: registerData.message\n        });\n        setTimeout(() => setAlert(null), 5000);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"account__box__body\",\n      onSubmit: register,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"User name\",\n        name: \"username\",\n        value: username,\n        required: true,\n        onChange: onChangeRegisterForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"account__box__body__message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        value: password,\n        required: true,\n        onChange: onChangeRegisterForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"account__box__body__message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        name: \"confirmPassword\",\n        value: confirmPassword,\n        required: true,\n        onChange: onChangeRegisterForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"account__box__body__message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"account__box__footer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Signup, \"1di/8dIWkF2EgOrLH0+bqK37a5U=\", false, function () {\n  return [useHistory];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["D:/Project/stave-food-shop/client/src/components/AccountBox/Signup.jsx"],"names":["React","Link","useHistory","useContext","useState","AuthContext","Signup","props","registerUser","history","registerForm","setRegisterForm","username","password","confirmPassword","onChangeRegisterForm","event","target","name","value","register","preventDefault","setAlert","type","message","setTimeout","registerData","success","error","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAcC,UAAd,QAA+B,kBAA/B;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,SAAQC,WAAR,QAA0B,4BAA1B;;;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAAA;;AAExB,QAAM;AAACC,IAAAA;AAAD,MAAiBL,UAAU,CAACE,WAAD,CAAjC;AAEA,QAAMI,OAAO,GAAGP,UAAU,EAA1B;AAEA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC;AAC/CQ,IAAAA,QAAQ,EAAC,EADsC;AAE/CC,IAAAA,QAAQ,EAAC,EAFsC;AAG/CC,IAAAA,eAAe,EAAC;AAH+B,GAAD,CAAhD;AAMA,QAAM;AAACF,IAAAA,QAAD;AAAWC,IAAAA,QAAX;AAAqBC,IAAAA;AAArB,MAAwCJ,YAA9C;;AAEA,QAAMK,oBAAoB,GAAGC,KAAK,IAAIL,eAAe,CAAC,EAAC,GAAGD,YAAJ;AAAkB,KAACM,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAApD,GAAD,CAArD;;AAEA,QAAMC,QAAQ,GAAG,MAAMJ,KAAN,IAAe;AAChCA,IAAAA,KAAK,CAACK,cAAN;;AAEA,QAAIR,QAAQ,KAAKC,eAAjB,EAAkC;AACjCQ,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE,QAAR;AAAkBC,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAAR;AACAC,MAAAA,UAAU,CAAC,MAAMH,QAAQ,CAAC,IAAD,CAAf,EAAuB,IAAvB,CAAV;AACA;AACA;;AAED,QAAI;AACH,YAAMI,YAAY,GAAG,MAAMlB,YAAY,CAACE,YAAD,CAAvC;;AACA,UAAI,CAACgB,YAAY,CAACC,OAAlB,EAA2B;AAC1BL,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,OAAO,EAAEE,YAAY,CAACF;AAAxC,SAAD,CAAR;AACAC,QAAAA,UAAU,CAAC,MAAMH,QAAQ,CAAC,IAAD,CAAf,EAAuB,IAAvB,CAAV;AACA;AACD,KAND,CAME,OAAOM,KAAP,EAAc;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA;AACD,GAlBA;;AAuBA,sBACE;AAAA,2BACE;AAAM,MAAA,SAAS,EAAC,oBAAhB;AAAqC,MAAA,QAAQ,EAAER,QAA/C;AAAA,8BACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,WAAW,EAAC,WAFd;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAER,QAJT;AAKE,QAAA,QAAQ,MALV;AAME,QAAA,QAAQ,EAAEG;AANZ;AAAA;AAAA;AAAA;AAAA,cADF,eASE;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cATF,eAUE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,WAAW,EAAC,UAFd;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAEF,QAJT;AAKE,QAAA,QAAQ,MALV;AAME,QAAA,QAAQ,EAAEE;AANZ;AAAA;AAAA;AAAA;AAAA,cAVF,eAkBE;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAlBF,eAmBE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,WAAW,EAAC,kBAFd;AAGE,QAAA,IAAI,EAAC,iBAHP;AAIE,QAAA,KAAK,EAAED,eAJT;AAKE,QAAA,QAAQ,MALV;AAME,QAAA,QAAQ,EAAEC;AANZ;AAAA;AAAA;AAAA;AAAA,cAnBF,eA2BE;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cA3BF,eA4BA;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,+BACE;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAoCD,CA3ED;;GAAMT,M;UAIYJ,U;;;KAJZI,M;AA6EN,eAAeA,MAAf","sourcesContent":["import React from \"react\";\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { useContext, useState } from \"react\";\r\nimport {AuthContext} from '../../contexts/AuthContext'\r\n\r\nconst Signup = (props) => {\r\n\r\n  const {registerUser} = useContext(AuthContext)\r\n\r\n  const history = useHistory()\r\n\r\n  const [registerForm, setRegisterForm] = useState({\r\n    username:'',\r\n    password:'',\r\n    confirmPassword:''\r\n  })\r\n  \r\n  const {username, password, confirmPassword} = registerForm\r\n\r\n  const onChangeRegisterForm = event => setRegisterForm({...registerForm, [event.target.name]: event.target.value})\r\n\r\n  const register = async event => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetAlert({ type: 'danger', message: 'Passwords do not match' })\r\n\t\t\tsetTimeout(() => setAlert(null), 5000)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst registerData = await registerUser(registerForm)\r\n\t\t\tif (!registerData.success) {\r\n\t\t\t\tsetAlert({ type: 'danger', message: registerData.message })\r\n\t\t\t\tsetTimeout(() => setAlert(null), 5000)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <form className=\"account__box__body\" onSubmit={register}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"User name\"\r\n          name=\"username\"\r\n          value={username}\r\n          required\r\n          onChange={onChangeRegisterForm}\r\n        />\r\n        <p className=\"account__box__body__message\"></p>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={password}\r\n          required\r\n          onChange={onChangeRegisterForm}\r\n        />\r\n        <p className=\"account__box__body__message\"></p>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n          name=\"confirmPassword\"\r\n          value={confirmPassword}\r\n          required\r\n          onChange={onChangeRegisterForm}\r\n        />\r\n        <p className=\"account__box__body__message\">{}</p>\r\n      <div className=\"account__box__footer\">\r\n        <button type=\"submit\">Sign up</button>\r\n      </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}